const form=document.querySelector("#task-form"),tasklist=document.querySelector(".tasklist"),clearTasks=document.querySelector(".clear-tasks"),filter=document.querySelector("#filter"),taskInput=document.querySelector("#task");let tasks=[];function loadEventListeners(){document.addEventListener("DOMContentLoaded",renderTasks(tasks)),form.addEventListener("submit",syncTasks),tasklist.addEventListener("click",syncTasks),clearTasks.addEventListener("click",clearAllTasks),filter.addEventListener("keyup",filterTasks)}function syncTasks(t){for("task-form"===t.target.id?(""===taskInput.value?alert("No task name given."):(tasks.push(taskInput.value),localStorage.setItem("tasks",JSON.stringify(tasks)),taskInput.value=""),t.preventDefault()):t.target.parentElement.classList.contains("delete-task")&&(confirm("Delete task:"+t.target.parentElement.parentElement.textContent)&&(tasks.forEach(function(e,s){t.target.parentElement.parentElement.textContent===e&&tasks.splice(s,1)}),localStorage.setItem("tasks",JSON.stringify(tasks))),t.preventDefault());tasklist.firstChild;)tasklist.removeChild(tasklist.firstChild);renderTasks(tasks)}function renderTasks(t){t.forEach(function(t){const e=document.createElement("li");e.className="d-flex list-group-item task",e.appendChild(document.createTextNode(t));const s=document.createElement("a");s.className="ml-auto delete-task",s.innerHTML='<i class="far fa-trash-alt"></i>',s.setAttribute("href","#"),e.appendChild(s),tasklist.appendChild(e)}),t.length>1?(document.querySelector(".clear-tasks").style.display="block",document.querySelector(".filter-wrapper").style.display="block"):(document.querySelector(".clear-tasks").style.display="none",document.querySelector(".filter-wrapper").style.display="none")}function clearAllTasks(){if(confirm("This will delete ALL tasks"))for(;tasklist.firstChild;)tasklist.removeChild(tasklist.firstChild);localStorage.clear()}function filterTasks(t){const e=t.target.value.toLowerCase();document.querySelectorAll(".task").forEach(function(t){-1!==t.firstChild.textContent.toLowerCase().indexOf(e)?t.setAttribute("style","display: flex !important"):t.setAttribute("style","display: none !important ")})}null!==JSON.parse(localStorage.getItem("tasks"))&&(tasks=JSON.parse(localStorage.getItem("tasks"))),loadEventListeners();