const form=document.querySelector("#task-form"),tasklist=document.querySelector(".tasklist"),clearTasks=document.querySelector(".clear-tasks"),filter=document.querySelector("#filter"),taskInput=document.querySelector("#task");function loadEventListeners(){document.addEventListener("DOMContentLoaded",getTasks),form.addEventListener("submit",addTask),tasklist.addEventListener("click",removeTask),clearTasks.addEventListener("click",clearAllTasks),filter.addEventListener("keyup",filterTasks)}function getTasks(){let e;(e=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks"))).forEach(function(e){const t=document.createElement("li");t.className="task",t.appendChild(document.createTextNode(e));const a=document.createElement("a");a.className="delete-task",a.innerHTML='<i class="far fa-trash-alt"></i>',t.appendChild(a),tasklist.appendChild(t)})}function addTask(e){if(""===taskInput.value)alert("No task name given."),e.preventDefault();else{const t=document.createElement("li");t.className="task",t.appendChild(document.createTextNode(taskInput.value));const a=document.createElement("a");a.className="delete-task",a.innerHTML='<i class="far fa-trash-alt"></i>',t.appendChild(a),tasklist.appendChild(t),storeTaskLS(taskInput.value),taskInput.value="",e.preventDefault()}}function storeTaskLS(e){let t;(t=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks"))).push(e),localStorage.setItem("tasks",JSON.stringify(t))}function removeTask(e){e.target.parentElement.classList.contains("delete-task")&&confirm("Delete task:"+e.target.parentElement.parentElement.textContent)&&(e.target.parentElement.parentElement.remove(),removeTaskLS(e.target.parentElement.parentElement))}function removeTaskLS(e){let t;(t=null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks"))).forEach(function(a,s){e.textContent===a&&t.splice(s,1)}),localStorage.setItem("tasks",JSON.stringify(t))}function clearAllTasks(){if(confirm("This will delete ALL tasks"))for(;tasklist.firstChild;)tasklist.removeChild(tasklist.firstChild);localStorage.clear()}function filterTasks(e){const t=e.target.value.toLowerCase();document.querySelectorAll(".task").forEach(function(e){-1!==e.firstChild.textContent.toLowerCase().indexOf(t)?e.style.display="block":e.style.display="none"})}loadEventListeners();