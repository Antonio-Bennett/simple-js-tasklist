const form=document.querySelector("#task-form"),tasklist=document.querySelector(".tasklist"),clearTasks=document.querySelector(".clear-tasks"),filter=document.querySelector("#filter"),taskInput=document.querySelector("#task");let tasks=[];function loadEventListeners(){document.addEventListener("DOMContentLoaded",renderTasks(tasks)),form.addEventListener("submit",syncTasks),tasklist.addEventListener("click",syncTasks),clearTasks.addEventListener("click",clearAllTasks),filter.addEventListener("keyup",filterTasks)}function syncTasks(e){for("task-form"===e.target.id?(""===taskInput.value?alert("No task name given."):(tasks.push(taskInput.value),localStorage.setItem("tasks",JSON.stringify(tasks)),taskInput.value=""),e.preventDefault()):e.target.parentElement.classList.contains("delete-task")&&(confirm("Delete task:"+e.target.parentElement.parentElement.textContent)&&(tasks.forEach(function(t,s){e.target.parentElement.parentElement.textContent===t&&tasks.splice(s,1)}),localStorage.setItem("tasks",JSON.stringify(tasks))),e.preventDefault());tasklist.firstChild;)tasklist.removeChild(tasklist.firstChild);renderTasks(tasks)}function renderTasks(e){e.forEach(function(e){const t=document.createElement("li");t.className="task",t.appendChild(document.createTextNode(e));const s=document.createElement("a");s.className="delete-task",s.innerHTML='<i class="far fa-trash-alt"></i>',t.appendChild(s),tasklist.appendChild(t)}),e.length>1?(document.querySelector(".clear-tasks").style.display="block",document.querySelector(".filter-wrapper").style.display="block"):(document.querySelector(".clear-tasks").style.display="none",document.querySelector(".filter-wrapper").style.display="none")}function clearAllTasks(){if(confirm("This will delete ALL tasks"))for(;tasklist.firstChild;)tasklist.removeChild(tasklist.firstChild);localStorage.clear()}function filterTasks(e){const t=e.target.value.toLowerCase();document.querySelectorAll(".task").forEach(function(e){-1!==e.firstChild.textContent.toLowerCase().indexOf(t)?e.style.display="block":e.style.display="none"})}null!==JSON.parse(localStorage.getItem("tasks"))&&(tasks=JSON.parse(localStorage.getItem("tasks"))),loadEventListeners();