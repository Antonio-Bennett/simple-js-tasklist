const form=document.querySelector("#task-form"),tasklist=document.querySelector(".tasklist"),clearTasks=document.querySelector(".clear-tasks"),filter=document.querySelector("#filter"),taskInput=document.querySelector("#task");let tasks=[];class Tasklist{static init(){null!==localStorage.getItem("tasks")&&(tasks=JSON.parse(localStorage.getItem("tasks"))),tasks.forEach(function(t){Tasklist.renderTask(t)}),Tasklist.filter()}static renderTask(t){const e=`\n                <li class="d-flex list-group-item task">\n                    <div class="form-check">\n                        <input type="checkbox" undefined class="form-check-input" id="${t}">\n                        <label class="form-check-label" for="${t}">${t}</label>\n                    </div>\n                    <a href="#" class="ml-auto delete-task">\n                        <i class="far fa-trash-alt"></i>\n                    </a>\n                </li>`,s=document.createRange().createContextualFragment(e.trim());tasklist.appendChild(s)}static add(t){t.preventDefault(),""===taskInput.value?alert("No task name given."):(tasks.push(taskInput.value),Tasklist.renderTask(taskInput.value),taskInput.value="",Tasklist.store(tasks),Tasklist.filter())}static remove(t){t.preventDefault(),confirm("Delete task: "+t.target.parentElement.parentElement.textContent.trim())&&(tasks.forEach(function(e,s){t.target.parentElement.parentElement.textContent.trim()===e&&(t.target.parentElement.parentElement.remove(),tasks.splice(s,1))}),Tasklist.store(),Tasklist.filter())}static store(){localStorage.setItem("tasks",JSON.stringify(tasks))}static deleteAll(){if(confirm("This will delete ALL tasks")){for(;tasklist.firstChild;)tasklist.removeChild(tasklist.firstChild);localStorage.removeItem("tasks"),localStorage.removeItem("completed")}}static filter(t){if(tasks.length>1?(document.querySelector(".clear-tasks").style.display="block",document.querySelector(".filter-wrapper").style.display="block"):(document.querySelector(".clear-tasks").style.display="none",document.querySelector(".filter-wrapper").style.display="none"),t){const e=t.target.value.toLowerCase();document.querySelectorAll(".task").forEach(function(t){-1!==t.querySelector(".form-check-label").textContent.toLowerCase().trim().indexOf(e)?t.setAttribute("style","display: flex !important"):t.setAttribute("style","display: none !important ")})}}}document.addEventListener("DOMContentLoaded",Tasklist.init),form.addEventListener("submit",Tasklist.add),tasklist.addEventListener("click",Tasklist.remove),clearTasks.addEventListener("click",Tasklist.deleteAll),filter.addEventListener("keyup",Tasklist.filter);